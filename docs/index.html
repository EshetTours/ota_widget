<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    <meta charset="utf-8" />
    <title>Olery OTA Widget demo</title>
    <link href="css/ota_widget.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js"></script>
    <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/riot@3.6/riot+compiler.js"></script>
    <script src="js/ota_widget.js" type="text/javascript"></script>
  </head>
  <body>
    <ota-widget><img src="images/seal.png" width="96px" />
      <div class="overall block">
        <div class="rating {w.ratings.toCss100(d.rating)}">
          {w.ratings.format(d.rating / 10)} 
        </div>
        {d.review_count} 
      </div>
      <div class="recent-reviews block"></div>
      <div class="ratings block">
        <h2>
          Ratings
        </h2>
        <table>
          <tr class="rating" each="{r in d.ratings}" if="{r.title}">
            <td>
              <strong>{r.title} </strong>
            </td>
            <td class="rating-bar">
              <div class="rating-value-bar {w.ratings.toCss100(r.value)}" style="width: {r.value}%"></div>
            </td>
            <td class="rating-value">
              {w.ratings.format(r.value / 10)} 
            </td>
          </tr>
        </table>
      </div>
      <div class="mentions block">
        <h2>
          What People Mention
        </h2>
        <table>
          <tr class="mention" each="{m,i in d.mentions}" if="{i &lt; 8}">
            <td>
              <strong>{m.topic} </strong>
            </td>
            <td>
              {m.opinions_count} times mentioned 
            </td>
            <td class="mention-percentage {w.ratings.toCss100(m.percentage)}">
              {m.percentage}% positive 
            </td>
          </tr>
        </table>
      </div>
      <div class="guests block">
        <h2>
          Who stays here
        </h2>
      </div>
      <div class="summaries block">
        <h2>
          Summary
        </h2>
      </div>
      <script>
        this.w = window.ota_widget
        this.d = {}
        
        // your token goes here
        w.init('')
        w.load()
      </script>
    </ota-widget>
    <div></div>
  </body>
</html>