<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    <meta charset="utf-8" />
    <title>Olery OTA Widget demo</title>
    <link href="https://unpkg.com/material-components-web@0.17.0/dist/material-components-web.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="css/ota_widget.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js"></script>
    <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/riot@3.6/riot+compiler.js"></script>
    <script src="js/ota_widget.js" type="text/javascript"></script>
  </head>
  <body>
    <ota-widget>
      <div class="row">
        <div class="overall block">
          <img src="images/seal.png" width="96px" />
          <div class="rating {w.ratings.toCss100(d.rating)}">
            {w.ratings.format(d.rating / 10)} 
          </div>
          <div class="count">
            <strong class="count-value">{d.review_count} reviews </strong>
            <div class="count-period">
              in the past 12 month 
            </div>
          </div>
        </div>
        <div class="recent-reviews block"></div>
      </div>
      <div class="row">
        <div class="ratings block">
          <h2>
            Ratings
          </h2>
          <table>
            <tr class="rating" each="{r in d.ratings}" if="{r.title}">
              <td>
                <strong>{r.title} </strong>
              </td>
              <td class="rating-bar">
                <div class="rating-value-bar {w.ratings.toCss100(r.value)}" style="width: {r.value}%"></div>
              </td>
              <td class="rating-value">
                {w.ratings.format(r.value / 10)} 
              </td>
            </tr>
          </table>
        </div>
        <div class="mentions block">
          <h2>
            What People Mention
          </h2>
          <table>
            <tr class="mention" each="{m,i in d.mentions}" if="{i &lt; 8}">
              <td>
                <strong>{m.topic} </strong>
              </td>
              <td>
                {m.opinions_count} times mentioned 
              </td>
              <td class="mention-percentage {w.ratings.toCss100(m.percentage)}">
                {m.percentage}% positive 
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="row">
        <div class="guests block">
          <h2>
            Who stays here
          </h2>
          <table if="{d.guests}">
            <tr class="country" each="{c,i in d.guests.countries}" if="{i &lt; 3}">
              <td>
                <img class="flag flag-{c.country.toLowerCase()}" src="images/blank.gif" />
              </td>
              <td>
                {c.label} 
              </td>
              <td class="percentage">
                {c.percentage}% 
              </td>
            </tr>
            <tr class="composition" each="{c,i in d.guests.compositions}" if="{i &lt; 3}">
              <td class="icon material-icons">
                {w.ui.compositionIcons[c.travel_composition]} 
              </td>
              <td>
                {c.label} 
              </td>
              <td class="percentage">
                {c.percentage}% 
              </td>
            </tr>
          </table>
        </div>
        <div class="summaries block">
          <h2>
            Summary
          </h2>
          <table>
            <tr class="summary" each="{s,i in d.summaries}" if="{s.sentiment &amp;&amp; i &lt; 8}">
              <td class="icon material-icons">
                {s.sentiment == 'positive' ? 'add_circle_outline' : 'remove_circle_outline'} 
              </td>
              <td>
                <strong>{s.text} </strong>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </ota-widget>
    <script>
      // your token goes here
      ota_widget.init('')
      ota_widget.load()
    </script>
    <div></div>
  </body>
</html>